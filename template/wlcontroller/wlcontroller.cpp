/**
 * @file wlcontroller.cpp
 * @author Avik De (avikde@gmail.com)
 * @brief Use the wlqp with numerical quadratic fit wrench map
 * @version 0.1
 * @date 2020-08-12
 * 
 * @copyright Copyright (c) 2020
 * 
 */
#include "wlcontroller.hpp"
#include <iostream>

WLController::WLController() {
  // load popts
  Eigen::Matrix<float, 6, 15> popts;
  // poptsEmp col major
  popts << -0.41498716334913877, 0.04853925386307669, -1.0443154298902466, -39.162566526689496, 3.86697945239634, 1.5868629373519454, 0.004161530470390393, -0.0005410195533586718, 0.008730954429386921, 0.4347272529556003, -0.054406534814573505, -0.013584604586031352, -0.04921896208897451, 0.03325717298367986, 3.774256296882532, 35.20801123124533, 4.136310537263415, 8.897152221477027, -0.08114084916912893, 0.11402108349065512, -6.565041851772019, 8.960105550238962, -2.40430210592086, 6.856427471376807, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -2.1498519749986776e-05, 2.9591070779816484e-06, 7.255944919680254e-05, -0.002179040590683337, 0.00034641731566390497, 1.2282136287999407e-05, 0.0007452193674740687, -0.0003656669558602931, -0.024440375440139876, -0.20825719312770322, -0.05418716099028047, -0.05776369789309159, -0.000592201745189127, -0.0006235124178038529, 0.03221142824195457, -0.2710167102094739, 0.011121246757241961, -0.0360868798609794, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 2.489837075232938, -0.15022060357201647, -23.321197610424026, 98.4856348629078, 5.142757475687521, 8.468979086282319, -0.8220389384978928, 0.0003189736297552722, 3.865481128472532, 34.454898506387536, -10.274310705200136, 0.7365484310116243, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, -0.6424779320800695, 0.09522768136462195, 1.7626691411728337, -68.47304863790173, 11.418953851491452, 0.44877875839694553, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0;

  for (int i = 0; i < 6; ++i)
    fa[i].init(popts.row(i));
}

w_t WLController::wrenchMap(const u_t &) {
  return w_t::Zero();
}

dw_du_t WLController::wrenchJacMap(const u_t &) {
  return dw_du_t::Zero();
}
